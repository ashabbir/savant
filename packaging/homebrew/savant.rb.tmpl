class Savant < Formula
  desc "Local MCP services with offline activation"
  homepage "https://github.com/ashabbir/savant"
  version "__VERSION__"

  on_macos do
    on_arm do
      url "__URL_DARWIN_ARM64__"
      sha256 "__SHA_DARWIN_ARM64__"
    end
    on_intel do
      url "__URL_DARWIN_AMD64__"
      sha256 "__SHA_DARWIN_AMD64__"
    end
  end

  on_linux do
    on_intel do
      url "__URL_LINUX_AMD64__"
      sha256 "__SHA_LINUX_AMD64__"
    end
  end

  def install
    bin.install Dir["savant*"]
  end

  test do
    assert_match version.to_s, shell_output("#{bin}/savant version")
  end
end
