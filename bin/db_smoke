#!/usr/bin/env ruby
# frozen_string_literal: true

require_relative '../lib/savant/framework/db'

begin
  db = Savant::Framework::DB.new
  db.migrate_tables
  db.ensure_fts
  puts 'DB SMOKE OK'
  exit 0
rescue StandardError => e
  warn "DB SMOKE ERROR: #{e.class}: #{e.message}"
  exit 1
end
